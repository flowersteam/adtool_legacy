<nav class="navbar navbar-expand-lg navbar-dark bg-dark">

    <div class="container-fluid">
      <div class="text-light">Create new experiments</div>
    </div>
</nav>

<div class="form-group">
    
    <div class="accordion" id="accordionExample">
        <!-- general accordion -->
        <div class="accordion-item">
            <h2 class="accordion-header" id="headingOne">
            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                GENERAL INFORMATION
            </button>
            </h2>
            <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne">
                <div class="accordion-body">
                    <label class="card-title col-6" for="experiment_name">Enter the exeperiment name:</label>
                    <input type="text" class="form-control" id="experiment_name" placeholder="My beautifull new experiment" 
                           [(ngModel)]="this.exp_name">
    
                    <label class="card-title col-6" for="nb_iteration">Enter the number of iteration:</label>
                    <input type="number" min="1" class="form-control" id="nb_iteration"
                    [(ngModel)]="this.nb_iteration">
    
                    <label class="card-title col-6" for="nb_seed">Enter the number of seed:</label>
                    <input type="number" min="1" class="form-control" id="nb_seed"
                    [(ngModel)]="this.nb_seed">

                    <label class="card-title col-6" for="save_frequency">Enter the frequence to save:</label>
                    <input type="number" min="1" class="form-control" id="save_frequency"
                    [(ngModel)]="this.save_frequency">
    
                    <h5 class="card-title col-6">What do you want to save</h5>
                
                    <div *ngFor="let discovery_saving_key_used of discovery_saving_keys_used | keyvalue" class="card my-3">
                        <div class="card-body">
                            <div class="row">             
                                <label class="form-control" class="card-title col-6"  id="oui"
                                        required name="oui">
                                        <input type="checkbox" (change)="this.onCheckboxChange(discovery_saving_key_used.key)"
                                                name={{discovery_saving_key_used.key}} [checked]=discovery_saving_key_used.value/> {{discovery_saving_key_used.key}}
                                </label>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- system accordion -->
        <div class="accordion-item">
            <h2 class="accordion-header" id="headingTwo">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
                SYSTEM
                </button>
            </h2>
            <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo">
                <div class="accordion-body">
                    <!-- choose system -->
                    <div class="dropdown">
                        <button class="btn btn-primary dropdown-toggle" type="button" id="dropdownSystem" name="dropdownSystem" 
                                data-bs-toggle="dropdown" aria-expanded="false" ngDefaultControl>
                            {{this.systemUsed}}
                        </button>
                        <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownSystem">
                            <li *ngFor="let system of systems" class="dropdown-item" (click)="setSystemUsed(system.name)">
                                {{system.name}}
                            </li>
                        </ul>
                    </div>
                    <!-- set config system -->
                    <div *ngIf="this.systemUsed != 'CHOOSE A SYSTEM'" class="card-title col-6" class="container">
                        <div class="row" *ngFor="let elt_config of this.getModuleByName(this.systems, this.systemUsed).config | keyvalue">
                            {{this.setActualConfigElt(elt_config.value)}}
                            <label class="card-title col-6" for="experiment_name">Enter {{elt_config.key}}:</label>
                            <!-- type integer -->
                            <input *ngIf="this.actual_config_elt.type == 'INTEGER'" type="number" min="{{this.actual_config_elt.min}}" max="{{this.actual_config_elt.max}}"
                                    class="form-control" >
                            <!-- type float -->
                            <input *ngIf="this.actual_config_elt.type == 'FLOAT'" type="number" step={{this.calculStep()}} min="{{this.actual_config_elt.min}}" max="{{this.actual_config_elt.max}}"
                                    class="form-control" >
                            <!-- type string -->
                            <div *ngIf="this.actual_config_elt.type == 'STRING'" class="dropdown">
                                <select class="form-select" aria-label="Default select example" [(ngModel)]="this.choice">
                                    <option *ngFor="let choice of this.actual_config_elt.possible_values" >{{this.choice}}</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- explorer accordion -->
        <div class="accordion-item">
            <h2 class="accordion-header" id="headingExplorer">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExplorer" aria-expanded="true" aria-controls="collapseExplorer">
                Explorer
                </button>
            </h2>
            <div id="collapseExplorer" class="accordion-collapse collapse" aria-labelledby="headingExplorer">
                <div class="accordion-body">
                    <div class="dropdown">
                        <button class="btn btn-primary dropdown-toggle" type="button" id="dropdownExplorer" name="dropdownExplorer" 
                                data-bs-toggle="dropdown" aria-expanded="false" ngDefaultControl>
                            {{this.explorerUsed}}
                        </button>
                        <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownExplorer">
                            <li *ngFor="let explorer of explorers" class="dropdown-item" (click)="setExplorerUsed(explorer.name)">
                                {{explorer.name}}
                            </li>
                        </ul>
                    </div>  
                </div>
            </div>
        </div>
        <!-- input-wrapper accordion -->
        <div class="accordion-item">
            <h2 class="accordion-header" id="headingInputWrapper">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseInputWrapper" aria-expanded="true" aria-controls="collapseInputWrapper">
                InputWrapper
                </button>
            </h2>
            <div id="collapseInputWrapper" class="accordion-collapse collapse" aria-labelledby="headingInputWrapper">
                <div class="accordion-body">
                    <div class="dropdown">
                        <button class="btn btn-primary dropdown-toggle" type="button" id="dropdownInputWrapper" name="dropdownInputWrapper" 
                                data-bs-toggle="dropdown" aria-expanded="false" ngDefaultControl>
                            {{this.inputWrapperUsed}}
                        </button>
                        <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownInputWrapper">
                            <li *ngFor="let inputWrapper of input_wrappers" class="dropdown-item" (click)="setInputWrapperUsed(inputWrapper.name)">
                                {{inputWrapper.name}}
                            </li>
                        </ul>
                    </div>  
                </div>
            </div>
        </div>
        <!-- output-representation accordion -->
        <div class="accordion-item">
            <h2 class="accordion-header" id="headingOutputRepresentation">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOutputRepresentation" aria-expanded="true" aria-controls="collapseOutputRepresentation">
                OutputRepresentation
                </button>
            </h2>
            <div id="collapseOutputRepresentation" class="accordion-collapse collapse" aria-labelledby="headingOutputRepresentation">
                <div class="accordion-body">
                    <div class="dropdown">
                        <button class="btn btn-primary dropdown-toggle" type="button" id="dropdownOutputRepresentation" name="dropdownOutputRepresentation" 
                                data-bs-toggle="dropdown" aria-expanded="false" ngDefaultControl>
                            {{this.outputRepresentationUsed}}
                        </button>
                        <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownOutputRepresentation">
                            <li *ngFor="let OutputRepresentation of output_representations" class="dropdown-item" (click)="setOutputRepresentationUsed(OutputRepresentation.name)">
                                {{OutputRepresentation.name}}
                            </li>
                        </ul>
                    </div>  
                </div>
            </div>
        </div>
    <!-- accordion end -->
    </div>
</div>